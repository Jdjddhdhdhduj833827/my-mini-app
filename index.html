<!-- index.html ‚Äî IRONCLAD (Telegram Mini App) -->
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#080911" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="format-detection" content="telephone=no" />

  <title>CRAFT ANALYTICS</title>
  <meta name="description" content="CRAFT ANALYTICS ‚Äî Premium UI (Telegram Mini App)" />

  <!-- CSP (–æ—Å—Ç–∞–≤–ª—è—é –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º; –µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å ‚Äî —É–∂–µ—Å—Ç–æ—á–∏–º –ø–æ–∑–∂–µ) -->
  <meta http-equiv="Content-Security-Policy" content="default-src * data: blob: 'unsafe-inline' 'unsafe-eval'; connect-src *; img-src * data: blob:; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval';">

  <!-- Telegram WebApp SDK (–æ–¥–∏–Ω —Ä–∞–∑) -->
  <script src="https://telegram.org/js/telegram-web-app.js" crossorigin="anonymous"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="./style.css?v=1" />
</head>

<body>
  <!-- Background -->
  <div class="bg" aria-hidden="true">
    <div class="bgAura"></div>
    <div class="bgGrid"></div>
    <div class="bgNoise"></div>
    <div class="bgVignette"></div>
  </div>

  <!-- =========================
       GATE / ONBOARDING
  ========================== -->
  <section class="gate" id="gate">
    <div class="gateCard">
      <header class="gateHeader">
        <div class="brand">
          <div class="brandMark" aria-hidden="true">
            <span class="brandMarkInner">CA</span>
            <span class="brandMarkShine" aria-hidden="true"></span>
          </div>
          <div class="brandText">
            <div class="brandName">CRAFT ANALYTICS</div>
            <div class="brandSub" data-i="gate_sub">Premium terminal ‚Ä¢ Smart assistant</div>
          </div>
        </div>

        <div class="statusPills" aria-label="Status">
          <span class="pill" id="pillConn">‚óè online</span>
          <span class="pill pillGold hidden" id="pillVipGate">VIP</span>
          <button class="iconBtn" id="btnLangGate" type="button" aria-label="Language">üåê</button>
        </div>
      </header>

      <div class="gateHero">
        <h1 class="gateTitle" data-i="gate_title">–î–æ—Å—Ç—É–ø –∫ —Ç–µ—Ä–º–∏–Ω–∞–ª—É</h1>

        <p class="gateText" data-i="gate_text_main">
          –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞.
        </p>

        <div class="gateSteps" aria-label="Steps">
          <div class="step">
            <div class="stepNum">1</div>
            <div class="stepBody">
              <div class="stepTitle" data-i="gate_step1_t">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
              <div class="stepDesc" data-i="gate_step1_d">–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ.</div>
            </div>
          </div>

          <div class="step">
            <div class="stepNum">2</div>
            <div class="stepBody">
              <div class="stepTitle" data-i="gate_step2_t">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞</div>
              <div class="stepDesc" data-i="gate_step2_d">–í–µ—Ä–Ω–∏—Ç–µ—Å—å –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø¬ª.</div>
            </div>
          </div>

          <div class="step">
            <div class="stepNum">3</div>
            <div class="stepBody">
              <div class="stepTitle" data-i="gate_step3_t">–î–æ—Å—Ç—É–ø</div>
              <div class="stepDesc" data-i="gate_step3_d">
                –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–∫—Ä–æ—é—Ç—Å—è –º–æ–¥—É–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="gateActions">
        <button class="btn btnPrimary" id="btnOpenReg" type="button">
          <span class="btnIcon">‚Üó</span>
          <span data-i="gate_btn_reg">–û—Ç–∫—Ä—ã—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é</span>
          <span class="btnGlow" aria-hidden="true"></span>
        </button>

        <button class="btn btnGlass" id="btnGetAccess" type="button">
          <span class="btnIcon">‚ü°</span>
          <span data-i="gate_btn_access">–ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø</span>
        </button>

        <div class="gateHint">
          <span data-i="gate_status">–°—Ç–∞—Ç—É—Å:</span>
          <b id="gateStatusText" data-i="gate_status_na">–Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω</b>
        </div>

        <div class="legal" data-i="gate_legal">Demo UI. Not financial advice.</div>
      </div>

      <footer class="gateFooter">
        <div class="meter" aria-label="Access meter">
          <div class="meterFill" id="gateMeter" style="width:14%"></div>
        </div>
        <div class="meterText" id="gateMeterText" data-i="gate_meter">SECURITY ‚Ä¢ initData required</div>
      </footer>
    </div>
  </section>

  <!-- =========================
            MAIN APP
  ========================== -->
  <div class="app hidden" id="app">
    <header class="topbar">
      <div class="topLeft">
        <div class="brandMini">
          <div class="brandMark sm" aria-hidden="true">
            <span class="brandMarkInner">CA</span>
            <span class="brandMarkShine" aria-hidden="true"></span>
          </div>
          <div class="brandText">
            <div class="brandName sm">CRAFT ANALYTICS</div>
            <div class="brandSub sm" data-i="app_sub">Premium UI Terminal</div>
          </div>
        </div>
      </div>

      <div class="topRight">
        <span class="pill hidden" id="pillVipTop">VIP</span>
        <button class="iconBtn" id="btnLangApp" type="button" aria-label="Language">üåê</button>
        <button class="iconBtn" id="btnMenu" type="button" aria-label="Menu">‚ãØ</button>
      </div>
    </header>

    <main class="content">
      <!-- HERO -->
      <section class="hero">
        <div class="heroLeft">
          <div class="heroTitle" data-i="hero_title">Terminal Overview</div>
          <div class="heroSub" data-i="hero_sub">Smart mode ‚Ä¢ Premium UI</div>
        </div>

        <div class="heroRight">
          <div class="heroChip" id="chipSession">SESSION: ‚Äî</div>
          <div class="heroChip" id="chipAccess">ACCESS: ‚Äî</div>
          <div class="heroChip" id="chipMode" data-i="hero_mode">MODE: SMART</div>
        </div>
      </section>

      <!-- CONTROL CENTER -->
      <section class="panel">
        <div class="panelHead">
          <div class="panelTitle" data-i="cc_title">CONTROL CENTER</div>
          <div class="panelRight">
            <button class="chipBtn" id="btnCheckStatus" type="button" data-i="cc_btn_check">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
            <button class="chipBtn" id="btnReset" type="button" data-i="cc_btn_reset">–°–±—Ä–æ—Å</button>
          </div>
        </div>

        <div class="row">
          <button class="select" id="assetBtn" type="button">
            <div class="selectLeft">
              <span class="badge" aria-hidden="true">üí±</span>
              <span class="selectValue" id="assetValue">EUR/USD</span>
            </div>
            <span class="chev" aria-hidden="true">‚ñæ</span>
          </button>

          <button class="select compact" id="tfBtn" type="button">
            <div class="selectLeft">
              <span class="badge" aria-hidden="true">‚è±</span>
              <span class="selectValue" id="tfValue">30s</span>
            </div>
            <span class="chev" aria-hidden="true">‚ñæ</span>
          </button>

          <button class="select compact" id="marketBtn" type="button" aria-label="Toggle market">
            <div class="selectLeft">
              <span class="badge" aria-hidden="true">üåê</span>
              <span class="selectValue" id="marketValue">OTC</span>
            </div>
            <span class="chev" aria-hidden="true">‚Ü∫</span>
          </button>
        </div>

        <div class="hint" id="hintText" data-i="cc_hint">
          –ù–∞–∂–º–∏—Ç–µ ¬´–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑¬ª ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –¥–µ–º–æ-—Å–∏–≥–Ω–∞–ª.
        </div>

        <div class="actions">
          <button class="btn btnPrimary btnWide" id="btnAnalyze" type="button">
            <span class="btnIcon">‚ü°</span>
            <span data-i="cc_btn_analyze">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑</span>
            <span class="btnGlow" aria-hidden="true"></span>
          </button>

          <div class="trendRow">
            <button class="trendBtn trendLong" id="btnLong" type="button">
              <span class="trendLabel">LONG-TREND</span>
              <span class="trendArrow" aria-hidden="true">‚Üó</span>
            </button>

            <button class="trendBtn trendShort" id="btnShort" type="button">
              <span class="trendLabel">SHORT-TREND</span>
              <span class="trendArrow" aria-hidden="true">‚Üò</span>
            </button>
          </div>
        </div>
      </section>

      <!-- CHART -->
      <section class="panel">
        <div class="panelHead">
          <div class="panelTitle" data-i="chart_title">MARKET VISUAL</div>
          <div class="panelRight">
            <span class="chip" id="chipQuality" data-i="chart_quality">Quality: ‚Äî</span>
            <span class="chip" id="chipConf" data-i="chart_conf">Conf: ‚Äî</span>
          </div>
        </div>

        <div class="chartWrap" id="chartWrap">
          <canvas id="chart" width="920" height="420" aria-label="Chart"></canvas>

          <div class="chartOverlay hidden" id="chartOverlay" aria-hidden="true">
            <div class="overlayTitle">SCANNING</div>
            <div class="overlayLine" id="overlayLine" data-i="chart_scan">–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ‚Ä¶</div>
            <div class="overlayBar">
              <div class="overlayFill" id="overlayFill"></div>
            </div>
          </div>
        </div>

        <div class="signalCard" id="signalCard">
          <div class="signalLeft">
            <div class="label" data-i="sig_label">–°–ò–ì–ù–ê–õ</div>

            <div class="signalLine">
              <span class="dirArrow up" id="dirArrow" aria-hidden="true">‚Üó</span>
              <span class="dirText up" id="dirText">LONG-TREND</span>

              <span class="signalMeta">
                <span class="metaDot" aria-hidden="true"></span>
                <span data-i="sig_window">–æ–∫–Ω–æ:</span> <b id="rWindow">‚Äî</b>
                <span class="metaSep">‚Ä¢</span>
                <span data-i="sig_until">–¥–æ</span> <b id="rUntil">--:--</b>
              </span>

              <span class="vipBadge hidden" id="vipBadge" aria-label="VIP">VIP</span>
            </div>

            <div class="miniMetrics">
              <div class="m"><div class="k" data-i="m_acc">–¢–æ—á–Ω–æ—Å—Ç—å</div><div class="v" id="rAcc">‚Äî%</div></div>
              <div class="m"><div class="k" data-i="m_vol">–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å</div><div class="v" id="volFactor">‚Äî</div></div>
              <div class="m"><div class="k" data-i="m_mom">–ò–º–ø—É–ª—å—Å</div><div class="v" id="momFactor">‚Äî</div></div>
              <div class="m"><div class="k" data-i="m_liq">–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å</div><div class="v" id="liqFactor">‚Äî</div></div>
            </div>
          </div>

          <div class="signalRight">
            <div class="label" data-i="confirm_label">–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–ï</div>
            <div class="miniChart">
              <canvas id="signalChart" width="520" height="220" aria-label="Signal mini chart"></canvas>
              <div class="miniChartHint" data-i="mini_hint">Mini chart ‚Ä¢ demo render</div>
            </div>
          </div>
        </div>

        <div class="footnote" data-i="footnote">
          –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ Telegram initData.
        </div>
      </section>
    </main>
  </div>

  <!-- =========================
            MODALS
  ========================== -->
  <div class="backdrop hidden" id="backdrop" aria-hidden="true"></div>

  <section class="modal hidden" id="assetsModal" role="dialog" aria-modal="true" aria-label="Assets modal">
    <div class="modalTop">
      <div class="modalTitle" data-i="assets_title">–í—ã–±–æ—Ä –∞–∫—Ç–∏–≤–∞</div>
      <button class="iconBtn" id="closeAssets" aria-label="Close" type="button">‚úï</button>
    </div>
    <input class="search" id="assetSearch" placeholder="–ü–æ–∏—Å–∫‚Ä¶" autocomplete="off" />
    <div class="tabs" id="assetTabs" aria-label="Categories"></div>
    <div class="list" id="assetList" aria-label="Assets list"></div>
  </section>

  <section class="modal hidden" id="tfModal" role="dialog" aria-modal="true" aria-label="Timeframe modal">
    <div class="modalTop">
      <div class="modalTitle" data-i="tf_title">–í—ã–±–æ—Ä —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞</div>
      <button class="iconBtn" id="closeTf" aria-label="Close" type="button">‚úï</button>
    </div>
    <div class="list" id="tfList" aria-label="Timeframes list"></div>
  </section>

  <section class="modal hidden" id="langModal" role="dialog" aria-modal="true" aria-label="Language modal">
    <div class="modalTop">
      <div class="modalTitle" data-i="lang_title">–Ø–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
      <button class="iconBtn" id="closeLang" aria-label="Close" type="button">‚úï</button>
    </div>
    <div class="list" id="langList" aria-label="Languages list"></div>
  </section>

  <div class="notify hidden" id="notify" role="dialog" aria-modal="true" aria-label="Notice">
    <div class="notifyCard">
      <div class="notifyTitle" id="notifyTitle">Notice</div>
      <div class="notifyText" id="notifyText">‚Äî</div>
      <div class="notifyActions">
        <button class="btn btnPrimary" id="btnNotifyPrimary" type="button">
          <span class="btnIcon">‚Üó</span>
          <span id="notifyPrimaryLabel">‚Äî</span>
          <span class="btnGlow" aria-hidden="true"></span>
        </button>
        <button class="btn btnGlass" id="btnNotifyClose" type="button" data-i="notify_btn_ok">–ü–æ–Ω—è—Ç–Ω–æ</button>
      </div>
    </div>
  </div>

  <div class="softLock hidden" id="softLock" aria-hidden="true"></div>

  <!-- App JS (only one!) -->
  <script src="./app.js?v=1001" defer></script>
</body>
</html>
